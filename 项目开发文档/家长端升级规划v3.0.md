# MeetMind 家长端升级规划 v3.0

> **核心理念**：家长通用需求只有一个 —— **了解孩子的学习情况**。把这个单点做到极致。

---

## 一、产品哲学

### 为什么聚焦"了解孩子"？

| 年龄段 | 家长表面需求 | 底层需求 |
|--------|------------|---------|
| 小学 1-3 年级 | 孩子作业写完没？哪里不会？ | **了解孩子** |
| 小学 4-6 年级 | 孩子上课认真吗？哪里卡住了？ | **了解孩子** |
| 初中 | 孩子学习状态怎么样？成绩波动原因？ | **了解孩子** |
| 高中 | 孩子压力大吗？学习效率如何？ | **了解孩子** |

**结论**：无论孩子多大，家长的核心焦虑是一样的 —— **"我不知道孩子学得怎么样"**。

### 产品定位

> **MeetMind 家长端 = 孩子学习情况的「实时透视镜」**

不是教家长怎么教孩子，而是让家长**清清楚楚地知道**：
- 今天孩子听课时哪里卡住了
- 孩子自己标记了什么困惑
- 老师当时是怎么讲的
- 孩子后来弄懂了没有

---

## 二、核心功能设计

### 唯一入口：「今日学情」

> 一个页面解决所有问题，不需要复杂导航

```
┌─────────────────────────────────────┐
│  👋 小明今天的学习情况              │
│  ─────────────────────────────────  │
│                                     │
│  📊 今日概览                        │
│  ┌─────────────────────────────┐   │
│  │ 上课 3 节 │ 困惑 5 个 │ 已解决 2 │
│  └─────────────────────────────┘   │
│                                     │
│  🎯 困惑时刻（按时间线）            │
│  ┌─────────────────────────────┐   │
│  │ 09:35 数学课                 │   │
│  │ 「分数除法」 😕 还没解决      │   │
│  │ ▶️ 听老师原话                 │   │
│  ├─────────────────────────────┤   │
│  │ 10:20 数学课                 │   │
│  │ 「约分」 ✅ 已解决           │   │
│  │ ▶️ 听老师原话                 │   │
│  ├─────────────────────────────┤   │
│  │ 14:15 英语课                 │   │
│  │ 「过去式变化」 😕 还没解决    │   │
│  │ ▶️ 听老师原话                 │   │
│  └─────────────────────────────┘   │
│                                     │
│  💡 AI 总结                         │
│  "小明今天在数学分数运算和英语      │
│   时态变化上有些困难，建议今晚      │
│   优先复习分数除法。"              │
│                                     │
└─────────────────────────────────────┘
```

---

### 功能模块详解

#### 1. 今日概览卡片

| 元素 | 说明 | 设计要点 |
|------|------|---------|
| 上课节数 | 今天孩子录了几节课 | 数字 + 小图标 |
| 困惑点数 | 孩子标记了几个"没听懂" | 橙色高亮，吸引注意 |
| 已解决数 | 通过 AI 辅导已解决的 | 绿色勾，给家长安心 |

**交互**：点击任一数字，滚动到对应列表

#### 2. 困惑时刻时间线

> **核心体验**：按时间顺序展示孩子一天的困惑点

| 功能点 | 说明 | 优先级 |
|--------|------|--------|
| 时间戳 | 精确到分钟（如 09:35） | P0 |
| 课程标签 | 数学课 / 英语课 / 语文课 | P0 |
| 困惑内容 | AI 自动识别的知识点（如「分数除法」） | P0 |
| 解决状态 | ✅ 已解决 / 😕 还没解决 | P0 |
| 老师原话按钮 | 点击播放困惑点前后 30 秒的老师讲解 | P0 |
| 展开详情 | 点击卡片展开，显示更多上下文 | P1 |

**设计细节**：
- 未解决的困惑点**置顶**，已解决的灰显
- 每个困惑点卡片可**左滑**标记"已在家解决"
- 困惑点按**严重程度**排序（重复出现 > 首次出现）

#### 3. 老师原话播放器

> **家长最需要的确定性**：听到老师当时是怎么讲的

| 功能点 | 说明 |
|--------|------|
| 片段播放 | 困惑点前后 30 秒的音频片段 |
| 波形可视化 | 简洁的音频波形，显示播放进度 |
| 倍速播放 | 1x / 1.5x / 2x |
| 转文字 | 音频下方显示实时转录文字 |
| 全屏模式 | 点击放大，沉浸式听讲 |

**交互流程**：
```
点击「▶️ 听老师原话」
  ↓
底部弹出播放器（不跳转页面）
  ↓
播放完毕自动收起，或点击外部收起
```

#### 4. AI 一句话总结

> **忙碌家长的刚需**：5 秒看完今天情况

| 场景 | AI 总结示例 |
|------|------------|
| 情况良好 | "小明今天上课状态不错，3 个小困惑都已解决 👍" |
| 需要关注 | "小明今天在数学「分数除法」上卡了两次，建议今晚重点看看" |
| 值得表扬 | "小明今天主动标记了 5 个困惑点，学习态度很积极！" |
| 无数据 | "今天还没有学习记录，孩子可能还没开始上课" |

**生成逻辑**：
- 困惑点数量
- 解决率
- 重复困惑（同一知识点多次出现）
- 跨天对比（比昨天多/少）

---

## 三、极简交互设计

### 设计原则

| 原则 | 说明 |
|------|------|
| **一屏展示** | 核心信息不需要滚动就能看到 |
| **零学习成本** | 打开就懂，不需要教程 |
| **3 秒法则** | 家长 3 秒内能获取关键信息 |
| **减法设计** | 每增加一个功能，先砍掉一个 |

### 页面层级

```
家长端首页（唯一页面）
├── 今日概览（固定顶部）
├── 困惑时刻时间线（主体内容）
├── AI 总结（固定底部）
└── 老师原话播放器（底部弹出层）
```

**不做**：
- ❌ 复杂的 Tab 切换
- ❌ 多级嵌套页面
- ❌ 设置中心
- ❌ 历史记录页面（MVP 阶段）

### 空状态设计

| 场景 | 展示内容 |
|------|---------|
| 今天无数据 | 插画 + "今天还没有学习记录，等孩子上课后会自动同步" |
| 无困惑点 | 插画 + "太棒了！孩子今天上课没有标记困惑点 🎉" |
| 全部已解决 | 庆祝动画 + "所有困惑都解决了，给孩子点个赞！" |

---

## 四、技术实现

### 涉及文件

| 文件路径 | 说明 | 优先级 |
|---------|------|--------|
| `src/app/parent/page.tsx` | 家长端主页面（重构） | P0 |
| `src/components/parent/TodayOverview.tsx` | 今日概览卡片 | P0 |
| `src/components/parent/ConfusionTimeline.tsx` | 困惑时刻时间线 | P0 |
| `src/components/parent/TeacherAudioPlayer.tsx` | 老师原话播放器 | P0 |
| `src/components/parent/AISummary.tsx` | AI 一句话总结 | P0 |
| `src/lib/services/parent-service.ts` | 家长端数据服务 | P0 |
| `src/lib/services/parent-ai-service.ts` | AI 总结生成 | P1 |

### 数据结构

```typescript
// 今日学情数据
interface TodayLearningStatus {
  studentId: string;
  studentName: string;
  date: string; // YYYY-MM-DD
  
  // 概览数据
  overview: {
    totalClasses: number;      // 上课节数
    totalConfusions: number;   // 困惑点总数
    resolvedCount: number;     // 已解决数
  };
  
  // 困惑时刻列表
  confusions: ConfusionMoment[];
  
  // AI 总结
  aiSummary: string;
}

// 困惑时刻
interface ConfusionMoment {
  id: string;
  timestamp: number;           // 毫秒时间戳
  timeDisplay: string;         // "09:35"
  
  // 课程信息
  sessionId: string;
  subject: string;             // "数学" | "英语" | "语文"
  
  // 困惑内容
  knowledgePoint: string;      // AI 识别的知识点
  transcriptContext: string;   // 困惑点上下文文字
  
  // 状态
  resolved: boolean;
  resolvedAt?: number;
  resolvedBy?: 'ai' | 'parent' | 'self';
  
  // 音频信息
  audioUrl: string;
  audioStartMs: number;
  audioEndMs: number;
}
```

### API 设计

```typescript
// 获取今日学情
GET /api/parent/today-status?studentId=xxx

// 标记困惑点已解决
POST /api/parent/mark-resolved
Body: { confusionId: string, resolvedBy: 'parent' }

// 生成 AI 总结
POST /api/parent/generate-summary
Body: { studentId: string, date: string }
```

---

## 五、开发计划

### Phase 1：核心功能（1 周）

| 任务 | 预估时间 | 负责 |
|------|---------|------|
| 页面框架 + 今日概览 | 1 天 | - |
| 困惑时刻时间线 | 2 天 | - |
| 老师原话播放器 | 1 天 | - |
| AI 一句话总结 | 1 天 | - |
| 联调 + 优化 | 1 天 | - |

### Phase 2：体验优化（1 周）

| 任务 | 预估时间 |
|------|---------|
| 空状态 + 加载状态 | 0.5 天 |
| 动画效果（解决打勾、庆祝） | 1 天 |
| 响应式适配（手机/平板） | 1 天 |
| 错误处理 + 边界情况 | 1 天 |
| 性能优化 | 0.5 天 |

---

## 六、成功指标

| 指标 | 目标值 | 说明 |
|------|--------|------|
| **日打开率** | > 70% | 家长每天都想看 |
| **页面停留时长** | 30-60 秒 | 快速获取信息，不需要太长 |
| **老师原话播放率** | > 50% | 核心功能使用率 |
| **次日留存** | > 80% | 第二天还会回来看 |
| **7 日留存** | > 60% | 养成习惯 |

---

## 七、后续迭代方向（暂不实现）

> 以下功能在 v3.0 **不做**，作为后续迭代储备

| 功能 | 暂缓原因 | 后续时机 |
|------|---------|---------|
| 历史记录/周报 | 先验证日活，再做长周期 | 日留存达标后 |
| AI 陪学脚本 | 聚焦"了解"，暂不做"指导" | 用户主动要求 |
| 家庭共享 | 增加复杂度 | 用户量上来后 |
| 推送通知 | 先把核心体验做好 | 留存稳定后 |
| 成就系统 | 锦上添花，非核心 | 3 个月后 |

---

## 八、设计哲学总结

```
┌─────────────────────────────────────────┐
│                                         │
│   家长打开 MeetMind                      │
│          ↓                              │
│   3 秒看到今天概览                       │
│          ↓                              │
│   10 秒扫完困惑列表                      │
│          ↓                              │
│   点击听一段老师原话（可选）             │
│          ↓                              │
│   心里有数了，关掉 App                   │
│          ↓                              │
│   明天还会再来看                         │
│                                         │
└─────────────────────────────────────────┘
```

**核心价值**：让家长**每天花 1 分钟**，就能清楚知道孩子的学习情况。

不需要复杂的功能，不需要花哨的界面，只需要**把"了解孩子"这一件事做到极致**。

---

*文档版本：v3.0*  
*更新时间：2026-01-20*  
*核心理念：单点极致，了解孩子*
